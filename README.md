<body class="c6"><p class="c9 title" id="h.qwno6oyg94ls"><span class="c13">EASV Bikeshop - Part 1</span></p><h1 class="c7" id="h.1rjr6ws5nw5l"><span class="c3">Case:</span></h1><p class="c2"><span class="c0">Imagine that students at EASV would like to sell their used bikes to other students at the academy. This would be especially useful for the international students, but for the danish students as well.</span></p><p class="c2 c5"><span class="c0"></span></p><p class="c2"><span class="c0">To meet this need the principal Henrik Larsen want&rsquo;s our best and brightest to develop a solution that will let the students trade bikes at the academy. Imagine that the system will run at either a terminal, or as a web start application - both developed in JavaFX.</span></p><p class="c2 c5"><span class="c0"></span></p><p class="c2"><span class="c0">You must make a system that can display bikes for sale in different ways. As tile&rsquo;s, a list and each bike individually. </span></p><p class="c2 c5"><span class="c0"></span></p><p class="c2"><span class="c0">The system must be apple to display properly at different screen resolutions and sizes. </span></p><h1 class="c7" id="h.8crjcv3gvkc"><span class="c3">Functionality / user stories:</span></h1><ol class="c11 lst-kix_nef4lwhl5yfl-0 start" start="1"><li class="c2 c8"><span class="c0">As a user I would like to see bikes for sale in a list so I can compare details.</span></li><li class="c2 c8"><span class="c0">As a user I would like to see bikes for sale in tiles so I can see their pictures.</span></li><li class="c2 c8"><span class="c0">As a user I would like to see one bike for sale so i can get all info about it.</span></li></ol><p class="c2 c5"><span class="c0"></span></p><p class="c2"><span>This is all functionality we will focus on to begin with. So only </span><span class="c14">R</span><span class="c0">, of CRUD...</span></p><h1 class="c7" id="h.eejyhlaz5l5k"><span class="c3">Exercise 1:</span></h1><p class="c1"><span class="c0">First we should have the fundamentals ready, make a project structure like so:</span></p><p class="c1 c5"><span class="c0"></span></p><p class="c1"><span class="c0">be:</span></p><p class="c1"><span class="c0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Bike</span></p><p class="c1"><span class="c0">bll:</span></p><p class="c1"><span class="c0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BikeManager</span></p><p class="c1"><span class="c0">dal:</span></p><p class="c1"><span class="c0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BikeDAO</span></p><p class="c1"><span class="c0">gui:</span></p><p class="c1"><span class="c0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model:</span></p><p class="c1"><span class="c0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BikeModel</span></p><p class="c1"><span class="c0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BikeBoardModel</span></p><p class="c1"><span class="c0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;view:</span></p><p class="c1"><span class="c0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MainView.fxml</span></p><p class="c1"><span class="c0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;controller:</span></p><p class="c1"><span class="c0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MainViewController</span></p><p class="c1 c5"><span class="c0"></span></p><p class="c1"><span class="c0">Consult the consultative solution for code. In short we create a Bike class that has just 3 fields, seller type and price, their types are string string and double.</span></p><p class="c1 c5"><span class="c0"></span></p><p class="c2"><span class="c0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The manager only forwards calls down to the dao class. The dao class has one method that returns a random list of 100 bikes. </span></p><p class="c2 c5"><span class="c0"></span></p><p class="c2"><span class="c0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The BikeModel is the model of a single bike. It exposes property objects for the same fields as a single bike has. </span></p><p class="c2 c5"><span class="c0"></span></p><p class="c2"><span class="c0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The BikeBoardModel represents all the bikes we want to display - in eventually different ways.</span></p><p class="c2 c5"><span class="c0"></span></p><p class="c2"><span class="c0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The main view is the GUI skeleton of the application. It has a borderpane as it&rsquo;s root element. The plan is to have our bikes shown in the center area. Also we must have a controller for it. We assign the controller a BikeBoardModel. This model will be passed around in the application so all the views we create can reuse and modify the same model, thus propagating changes.</span></p><h1 class="c7" id="h.47ds7j1x8u1"><span class="c3">Exercise 2:</span></h1><p class="c2"><span class="c0">To display the bikes in a ListView we need several components. You are going to need the following:</span></p><p class="c2 c5"><span class="c0"></span></p><p class="c2"><span class="c0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Models:</span></p><p class="c2"><span class="c0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BikeBoardModel</span></p><p class="c2"><span class="c0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BikeModel</span></p><p class="c2"><span class="c0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Views:</span></p><p class="c2"><span class="c0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ListOfBikes.fxml</span></p><p class="c2"><span class="c0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ListCellBike.fxml</span></p><p class="c2"><span class="c0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Controllers:</span></p><p class="c1 c10"><span class="c0">ListCellController</span></p><p class="c1 c10"><span class="c0">ListOfBikesController</span></p><p class="c2 c5"><span class="c0"></span></p><p class="c2"><span class="c0">The models are fairly straightforward and should be covered in exercise one. The two views are as follows.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p><h2 class="c4" id="h.9bcipgwdovst"><span class="c12">Views</span></h2><p class="c2"><span class="c0">ListCellBike is what we want displayed on one row in our listview, in this example we have made a GridPane with just two columns and three rows.</span></p><p class="c2"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 306.00px; height: 105.00px;"></span></p><p class="c2"><span class="c0">It&rsquo;s root element is a GridPane, and it contains 6 labels, 3 of them with fx:id&rsquo;s. It&rsquo;s also padded a bit to make room around the elements. Examniat the fxml file for more details.</span></p><p class="c2 c5"><span class="c0"></span></p><p class="c2"><span class="c0">ListOfBikes is a simple view without any real graphics. It just have a BorderPane as a root element, and in the center area it has ListView with an fx:id. </span></p><h2 class="c4" id="h.mv5n4ttklzgu"><span class="c12">Controllers</span></h2><p class="c2"><span class="c0">ListCellController is the controller for each individual row in the list, aka ListCellBike views. All it does is to bind the labels to the given BikeModel.</span></p><p class="c2 c5"><span class="c0"></span></p><p class="c2"><span class="c0">ListOfBikesController is the controller for the ListOfBikes view. It should have a reference to the BikeBoardModel. In its init method it should set the cell factory for the listView. Setting the cell factory means that we specify how the list should draw it&rsquo;s cell&rsquo;s whenever new content is added or removed. To make this work we need to create a speicalized Gui control. See next section.</span></p><h2 class="c4" id="h.k6vk6otvtb7i"><span class="c12">Controls</span></h2><p class="c2"><span class="c0">To make the specialized List we need to create a ListCell of our own. We call it BikeListCell. It should have two instance fields, one of type Node we call view - this is actually our ListCellBike view. The second instance field is a reference to the controller of the before mentioned view. The purpose of the special control is to override the updateItem method of the ListCell. We need to change the model the controller is using every time we change the list. Also it must have setter methods for the two fields.</span></p><h1 class="c7" id="h.5kvkmjyic21w"><span class="c3">Exercise 3:</span></h1><p class="c1"><span class="c0">For the tile view you can go different ways. I suggest you create a new view, with a FlowPane as it&rsquo;s root element. It&rsquo;s imperative that you give the FlowPane an Fx:id, lets call it &ldquo;bikeBoard&rdquo;. Make sure you create a Controller for the View. The controller must have a public method for setting it&rsquo;s model. The controller must depend on the same model as the one we created for the list view! </span></p><p class="c1 c5"><span class="c0"></span></p><p class="c1"><span class="c0">Furthermore you must create a View that show a single Bike. Since we are currently not keeping any additional information I suggest you make a view that simply has the same info as before, but put in a static image of a bike. This can later be bound to a property. </span></p><p class="c1 c5"><span class="c0"></span></p><p class="c1"><span>Unlike with the ListView we are here responsible for adding the bikes ourselves to the bikeBoard. </span><span class="c14">So no &ldquo;setItems()&rdquo; method is available!</span><span class="c0">&nbsp;In order for this to work we must make our controller implement the ListChangeListner ourselves. This is a bit tricky, but what it means is that we must make a method (As defined in the interface, ListChangeListner) that will be called everytime the List we observe, is changed. Consult our post-it example for help.</span></p><h1 class="c7" id="h.t8zirb9h7ncw"><span class="c3">Exercise 4</span></h1><p class="c2"><span class="c0">For this exercise you must think of a way to display a single Bike, whenever the user double clicks on either a cell or a tile&hellip; Prefereably the list or tiles in view should be seen behind the bike in view. This can be solved by creating a new stage / aka a pop up window, but can you think of a way to do it without?</span></p></body>
